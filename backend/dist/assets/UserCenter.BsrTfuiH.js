import{_ as N,q as I,x,o as D,a as m,c as _,b as d,d as e,w as l,k as y,h as g,f as n,e as b}from"./index.BCp--acD.js";const S={class:"user-center-container"},k={class:"user-section"},C=["href"],A={key:0,class:"empty-state"},B={class:"user-section"},L=["href"],H={key:0,class:"empty-state"},O={class:"user-section"},T={__name:"UserCenter",setup($){const u=I(),f=b("downloads"),c=b([{id:"1",appId:"1",appName:"示例应用",version:"1.0.0",downloadDate:"2026-02-10 12:00:00"},{id:"2",appId:"2",appName:"测试应用",version:"2.1.0",downloadDate:"2026-02-09 15:30:00"}]),w=b([{id:"1",appId:"1",appName:"示例应用",oldVersion:"1.0.0",newVersion:"1.1.0",updateDate:"2026-02-10 10:00:00"}]),o=x({username:u.getUser?.username||"未登录",role:u.getUser?.role||"user",createdAt:u.getUser?.createdAt||new Date().toISOString(),lastLogin:new Date().toISOString()});return D(()=>{console.log("用户中心加载")}),(q,t)=>{const s=n("el-table-column"),V=n("el-button"),v=n("el-table"),i=n("el-tab-pane"),r=n("el-input"),p=n("el-form-item"),U=n("el-form"),h=n("el-tabs");return m(),_("div",S,[t[9]||(t[9]=d("h1",{class:"page-title"},"用户中心",-1)),e(h,{modelValue:f.value,"onUpdate:modelValue":t[4]||(t[4]=a=>f.value=a)},{default:l(()=>[e(i,{label:"下载历史",name:"downloads"},{default:l(()=>[d("div",k,[e(v,{data:c.value,style:{width:"100%"},class:"history-table"},{default:l(()=>[e(s,{prop:"appName",label:"应用名称"}),e(s,{prop:"version",label:"版本",width:"100"}),e(s,{prop:"downloadDate",label:"下载时间",width:"180"}),e(s,{label:"操作",width:"120"},{default:l(a=>[d("a",{href:`/api/download/${a.row.appId}`,class:"download-btn"},[e(V,{type:"primary"},{default:l(()=>[...t[5]||(t[5]=[y("重新下载",-1)])]),_:1})],8,C)]),_:1})]),_:1},8,["data"]),c.value.length===0?(m(),_("div",A,[...t[6]||(t[6]=[d("p",null,"暂无下载历史",-1)])])):g("",!0)])]),_:1}),e(i,{label:"更新记录",name:"updates"},{default:l(()=>[d("div",B,[e(v,{data:w.value,style:{width:"100%"},class:"history-table"},{default:l(()=>[e(s,{prop:"appName",label:"应用名称"}),e(s,{prop:"oldVersion",label:"旧版本",width:"100"}),e(s,{prop:"newVersion",label:"新版本",width:"100"}),e(s,{prop:"updateDate",label:"更新时间",width:"180"}),e(s,{label:"操作",width:"120"},{default:l(a=>[d("a",{href:`/api/download/${a.row.appId}`,class:"download-btn"},[e(V,{type:"primary"},{default:l(()=>[...t[7]||(t[7]=[y("下载最新版",-1)])]),_:1})],8,L)]),_:1})]),_:1},8,["data"]),w.value.length===0?(m(),_("div",H,[...t[8]||(t[8]=[d("p",null,"暂无更新记录",-1)])])):g("",!0)])]),_:1}),e(i,{label:"个人信息",name:"profile"},{default:l(()=>[d("div",O,[e(U,{model:o,"label-width":"100px"},{default:l(()=>[e(p,{label:"用户名"},{default:l(()=>[e(r,{modelValue:o.username,"onUpdate:modelValue":t[0]||(t[0]=a=>o.username=a),disabled:""},null,8,["modelValue"])]),_:1}),e(p,{label:"角色"},{default:l(()=>[e(r,{modelValue:o.role,"onUpdate:modelValue":t[1]||(t[1]=a=>o.role=a),disabled:""},null,8,["modelValue"])]),_:1}),e(p,{label:"注册时间"},{default:l(()=>[e(r,{modelValue:o.createdAt,"onUpdate:modelValue":t[2]||(t[2]=a=>o.createdAt=a),disabled:""},null,8,["modelValue"])]),_:1}),e(p,{label:"最近登录"},{default:l(()=>[e(r,{modelValue:o.lastLogin,"onUpdate:modelValue":t[3]||(t[3]=a=>o.lastLogin=a),disabled:""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])]),_:1})]),_:1},8,["modelValue"])])}}},M=N(T,[["__scopeId","data-v-7b6cebef"]]);export{M as default};
