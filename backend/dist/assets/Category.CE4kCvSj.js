import{a as C}from"./app.CusJVMsI.js";import{a as b}from"./ad.CS18M8yU.js";import{_ as A,o as w,a,c as o,b as e,F as d,r as _,t as n,h as v,e as p,i as x,f as N,n as $,d as B,w as L}from"./index.BCp--acD.js";import"./index.D9AvatZ4.js";const F={class:"category-container"},V={class:"category-banner"},D=["href"],U=["src","alt"],z={key:1,class:"banner-video"},E=["src"],I=["href"],M={class:"category-nav"},P={class:"nav-tabs"},S=["onClick"],j={class:"category-apps"},q={class:"section-title"},G={class:"app-grid"},H={class:"app-icon"},J=["src","alt"],K={class:"app-info"},O={class:"app-name"},Q={class:"app-version"},R={class:"app-stats"},T={class:"download-count"},W={class:"rating"},X={key:0,class:"empty-state"},Y={__name:"Category",setup(Z){const i=p("all"),r=p([]),m=p([]),u=[{id:"all",name:"全部"},{id:"game",name:"游戏"},{id:"tool",name:"工具"},{id:"social",name:"社交"},{id:"education",name:"教育"},{id:"entertainment",name:"娱乐"},{id:"finance",name:"金融"},{id:"health",name:"健康"}],h=x(()=>i.value==="all"?r.value:r.value.filter(s=>s.category===i.value)),y=s=>{const c=u.find(l=>l.id===s);return c?c.name:"全部"},g=s=>s>=1e4?(s/1e4).toFixed(1)+"万":s,f=async()=>{try{const s=await C.getAppList();r.value=s}catch(s){console.error("获取应用列表失败:",s)}},k=async()=>{try{const s=await b.getAdsByPosition("category");m.value=s}catch(s){console.error("获取分类页广告失败:",s)}};return w(()=>{f(),k()}),(s,c)=>{const l=N("router-link");return a(),o("div",F,[e("section",V,[(a(!0),o(d,null,_(m.value,t=>(a(),o("div",{key:t.id,class:"banner-item"},[t.type==="image"?(a(),o("a",{key:0,href:t.link,target:"_blank",class:"banner-link"},[e("img",{src:`http://localhost:3001${t.mediaUrl}`,alt:t.title,class:"banner-image"},null,8,U)],8,D)):t.type==="video"?(a(),o("div",z,[e("video",{src:`http://localhost:3001${t.mediaUrl}`,autoplay:"",loop:"",muted:"",playsinline:""}," 您的浏览器不支持视频播放 ",8,E),e("a",{href:t.link,target:"_blank",class:"banner-overlay"},n(t.title),9,I)])):v("",!0)]))),128))]),e("section",M,[e("div",P,[(a(),o(d,null,_(u,t=>e("div",{key:t.id,class:$(["nav-tab",{active:i.value===t.id}]),onClick:tt=>i.value=t.id},n(t.name),11,S)),64))])]),e("section",j,[e("h2",q,n(y(i.value)),1),e("div",G,[(a(!0),o(d,null,_(h.value,t=>(a(),o("div",{key:t.id,class:"app-card"},[B(l,{to:`/app/${t.id}`,class:"app-link"},{default:L(()=>[e("div",H,[e("img",{src:`http://localhost:3001${t.icon}`,alt:t.name},null,8,J)]),e("div",K,[e("h3",O,n(t.name),1),e("p",Q,"v"+n(t.versionName),1),e("div",R,[e("span",T,n(g(t.downloadCount))+" 下载",1),e("span",W,n(t.rating||0)+" ★",1)])])]),_:2},1032,["to"])]))),128))]),h.value.length===0?(a(),o("div",X,[...c[0]||(c[0]=[e("p",null,"该分类下暂无应用",-1)])])):v("",!0)])])}}},nt=A(Y,[["__scopeId","data-v-1614b302"]]);export{nt as default};
